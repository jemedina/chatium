<app-navbar></app-navbar>

<div class="mt-5  mx-5">
  <mat-card>
    <mat-card-header>
      <img mat-card-avatar [src]="profile_data.profile_pic" width="50" height="50" class=" rounded-circle d-inline-block align-top" alt="">
      <mat-card-title>
        {{profile_data.name}}
      </mat-card-title>
      <mat-card-subtitle>
        <i *ngIf="profile_data.sex=='male'" class="fas fa-mars" style="color:#0040FF; font-size: 2rem"></i>
        <i *ngIf="profile_data.sex=='female'" class="fas fa-venus" style="color:#FF00FF; font-size: 2rem"></i>
        
        <button mat-mini-fab class="mx-2" style="background:#3F51B5" (click)="changeSex()">
            <mat-icon aria-label="" >edit</mat-icon>
        </button>
        
        <div *ngIf="flag_ChangeSex">
         <mat-radio-group class="example-radio-group" [(ngModel)]="profile_data.sex">
              <mat-radio-button class="example-radio-button" 
                                name="sex" 
                                value="male">male</mat-radio-button>
              <mat-radio-button class="example-radio-button" 
                                name="sex" 
                                value="female">female</mat-radio-button>
          </mat-radio-group>
        </div>

      </mat-card-subtitle>
    </mat-card-header>
    <pre>Sexo:{{profile_data.sex}}</pre>
    <mat-divider></mat-divider>

    <mat-card-content class="mt-3">
      <h4>LANGUAGES</h4>
      <div class="row">
        <div class="col-6">
          <h5>Native</h5>
          <div class="row">
            <div class="col-6">
              <mat-chip-list>
                <mat-chip color="primary" 
                          selected>
                    {{profile_data.native_leng}}
                </mat-chip>
              </mat-chip-list>
            </div>
            <div class="col-6">
              <button mat-mini-fab style="background:#3F51B5" (click)="changeNativeL()">
                <mat-icon aria-label="">edit</mat-icon>
              </button>
            </div>
          </div>
        </div>

        <div class="col-6">
          <h5>Learning</h5>
          <div class="row">
            <div class="col-6">
              <mat-chip-list>
                <mat-chip color="primary"
                          selected
                          *ngFor="let item of learnPills"
                          [selectable]="selectable"
                          [removable]="removable" 
                          (removed)="remove(item)">
                  {{item.name}}
                  <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                </mat-chip>
              </mat-chip-list>
            </div>
            <div class="col-6">
              <button mat-mini-fab style="background:#3F51B5" (click)="changeLearningL()">
                <mat-icon aria-label="">edit</mat-icon>
              </button>
            </div>
          </div>
        </div>
      </div>
    </mat-card-content>

    <!--Here goes the code from sublime-->

    <div class="row">
        <form [formGroup]="formSelectNative">
          <div class="col-6" *ngIf="flag_changeNativeL">
              <!--*ngIf="flag_changeNativeL"-->
            <mat-form-field>
              <mat-select placeholder="Select Native" formControlName="selectNative">
                <mat-option  [value]="lenguages.code" *ngFor="let lenguages of supportedLanguages">{{lenguages.name}}</mat-option>
              </mat-select>
            </mat-form-field>
            <button mat-raised-button (click)="changeNative()">Change</button>
          </div>
        </form>

        <form [formGroup]="formSelectLearn">
          <div class="col-6" *ngIf="flag_changeLearningL">
            <!-- 
              *ngIf="flag_changeLearningL"
            -->
            <mat-form-field>
               <mat-select placeholder="Select a new lenguage" formControlName="selectNew">
                 <mat-option  [value]="lenguage.code" *ngFor="let lenguage of supportedLanguages">{{lenguage.name}}</mat-option>
              </mat-select>
            </mat-form-field>
            <button mat-raised-button (click)="addLearning()">Add</button>
          </div>
        </form>
    </div>







  </mat-card>
</div>